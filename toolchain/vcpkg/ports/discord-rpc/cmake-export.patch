diff --git a/CMakeLists.txt b/CMakeLists.txt
index 5dad9e9..67766bf 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -12,38 +12,6 @@ file(GLOB_RECURSE ALL_SOURCE_FILES
     src/*.cpp src/*.h src/*.c
 )
 
-# Set CLANG_FORMAT_SUFFIX if you are using custom clang-format, e.g. clang-format-5.0
-find_program(CLANG_FORMAT_CMD clang-format${CLANG_FORMAT_SUFFIX})
-
-if (CLANG_FORMAT_CMD)
-    add_custom_target(
-        clangformat
-        COMMAND ${CLANG_FORMAT_CMD}
-        -i -style=file -fallback-style=none
-        ${ALL_SOURCE_FILES}
-        DEPENDS
-        ${ALL_SOURCE_FILES}
-    )
-endif(CLANG_FORMAT_CMD)
-
-# thirdparty stuff
-execute_process(
-    COMMAND mkdir ${CMAKE_CURRENT_SOURCE_DIR}/thirdparty
-    ERROR_QUIET
-)
-
-find_file(RAPIDJSONTEST NAMES rapidjson rapidjson-1.1.0 PATHS ${CMAKE_CURRENT_SOURCE_DIR}/thirdparty CMAKE_FIND_ROOT_PATH_BOTH)
-if (NOT RAPIDJSONTEST)
-    message("no rapidjson, download")
-    set(RJ_TAR_FILE ${CMAKE_CURRENT_SOURCE_DIR}/thirdparty/v1.1.0.tar.gz)
-    file(DOWNLOAD https://github.com/miloyip/rapidjson/archive/v1.1.0.tar.gz ${RJ_TAR_FILE})
-    execute_process(
-        COMMAND ${CMAKE_COMMAND} -E tar xzf ${RJ_TAR_FILE}
-        WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/thirdparty
-    )
-    file(REMOVE ${RJ_TAR_FILE})
-endif(NOT RAPIDJSONTEST)
-
 find_file(RAPIDJSON NAMES rapidjson rapidjson-1.1.0 PATHS ${CMAKE_CURRENT_SOURCE_DIR}/thirdparty CMAKE_FIND_ROOT_PATH_BOTH)
 
 add_library(rapidjson STATIC IMPORTED ${RAPIDJSON})
@@ -54,3 +22,10 @@ add_subdirectory(src)
 if (BUILD_EXAMPLES)
     add_subdirectory(examples/send-presence)
 endif(BUILD_EXAMPLES)
+
+install (
+    EXPORT discord-rpc
+    FILE discord-rpcConfig.cmake
+    NAMESPACE ${PROJECT_NAME}::
+    DESTINATION lib/cmake/discord-rpc
+    )
diff --git a/src/CMakeLists.txt b/src/CMakeLists.txt
index 290d761..cd2cc92 100644
--- a/src/CMakeLists.txt
+++ b/src/CMakeLists.txt
@@ -120,10 +120,6 @@ if (${BUILD_SHARED_LIBS})
     target_compile_definitions(discord-rpc PRIVATE -DDISCORD_BUILDING_SDK)
 endif(${BUILD_SHARED_LIBS})
 
-if (CLANG_FORMAT_CMD)
-    add_dependencies(discord-rpc clangformat)
-endif(CLANG_FORMAT_CMD)
-
 # install
 
 install(
diff --git a/src/discord_register_linux.cpp b/src/discord_register_linux.cpp
index dd92eea..c88209a 100644
--- a/src/discord_register_linux.cpp
+++ b/src/discord_register_linux.cpp
@@ -31,7 +31,7 @@ extern "C" DISCORD_EXPORT void Discord_Register(const char* applicationId, const
         return;
     }
 
-    char exePath[1024];
+    char exePath[1024] = {};
     if (!command || !command[0]) {
         ssize_t size = readlink("/proc/self/exe", exePath, sizeof(exePath));
         if (size <= 0 || size >= (ssize_t)sizeof(exePath)) {
