#version 330

uniform mat4 camera,cameraVP;

layout(location = 0) in vec3 vert;
layout(location = 1) in vec2 vertTexCoord;
layout(location = 2) in vec3 vertNormal;
layout(location = 3) in vec3 vertTangent;
layout(location = 4) in vec3 vertBitangent;
layout(location = 5) in mat4 model;

out vec3 worldVert;
out vec2 localTexCoord;
out vec3 worldNormal;
out vec3 localNormal;
out vec3 worldTangent;
out vec4 surfacePos;

void main() {

    // Pass some variables to the fragment shader
    localTexCoord = vertTexCoord;
    localNormal = normalize(vertNormal);
    worldNormal = normalize((cameraVP * model * vec4(vertNormal,1)).xyz);
	vec4 worldVert_t = camera * model * vec4(vert,1);
    worldVert = worldVert_t.xyz;
    worldTangent = (camera * model * vec4(vertTangent,0.0)).xyz;
    surfacePos = model * vec4(vert,1.0);
    
    // Apply all matrix transformations to vert
    gl_Position = worldVert_t;
}
