{
    "version": 6,
    "cmakeMinimumRequired": {
        "major": 3,
        "minor": 25
    },
    "configurePresets": [
        {
            "name": "vcpkg-base",
            "hidden": true,
            "binaryDir": "${sourceDir}/multi_build/${presetName}",
            "cacheVariables": {
                "BUILD_TESTS": "OFF",
                "CMAKE_BUILD_TYPE": "Debug",
                "CMAKE_EXPORT_COMPILE_COMMANDS": "ON",
                "CMAKE_INSTALL_PREFIX": "${sourceDir}/multi_build/${presetName}/install",
                "CMAKE_TOOLCHAIN_FILE": "$env{VCPKG_ROOT}/scripts/buildsystems/vcpkg.cmake",
                "HOST_TOOLS_BINARY_DIR": "$env{HOST_TOOLS_BINARY_DIR}",
                "GLSLANG_PROGRAM": "$env{GLSLANG_PROGRAM}",
                "VCPKG_MANIFEST_FEATURES": "$penv{TARGET_FEATURES}"
            },
            "environment": {
                "HOST_TOOLS_BINARY_DIR": "${sourceDir}/multi_build/host-x64-linux-native/bin",
                "GLSLANG_PROGRAM": "$penv{GLSLANG_PROGRAM}",
                "VCPKG_ROOT": "$penv{VCPKG_ROOT}"
            }
        },
        {
            "name": "vcpkg-base-linux",
            "inherits": ["vcpkg-base"],
            "hidden": true,
            "generator": "Ninja",
            "cacheVariables": {
                "APPIMAGE_EXTRA_LIBRARIES": "$env{TOOLCHAIN_SYSROOT}/lib/libstdc++.so.6;$env{TOOLCHAIN_SYSROOT}/lib/libssp.so.0;$env{TOOLCHAIN_SYSROOT}/usr/lib/libbacktrace.so.0",
                "APPIMAGE_RUNTIME_BINARY": "${sourceDir}/multi_build/${presetName}/vcpkg_installed/$env{PLATFORM}-$env{TOOLCHAIN_PREFIX}/bin/runtime",
                "CMAKE_C_COMPILER": "$env{TOOLCHAIN_ROOT}/bin/$env{ARCHITECTURE}-gcc",
                "CMAKE_CXX_COMPILER": "$env{TOOLCHAIN_ROOT}/bin/$env{ARCHITECTURE}-g++",
                "CMAKE_MAKE_PROGRAM": "$env{NINJA}",
                "MKSQUASH_PROGRAM": "$env{MKSQUASH_PROGRAM}",
                "TOOLCHAIN_PREFIX": "$env{TOOLCHAIN_PREFIX}",
                "TOOLCHAIN_ROOT": "$env{TOOLCHAIN_ROOT}",
                "VCPKG_CHAINLOAD_TOOLCHAIN_FILE": "${sourceDir}/toolchain/cmake/Toolchains/$env{TOOLCHAIN_PREFIX}.toolchain.cmake",
                "VCPKG_TARGET_TRIPLET": "$env{PLATFORM}-$env{TOOLCHAIN_PREFIX}"
            },
            "environment": {
                "MKSQUASH_PROGRAM": "/usr/bin/mksquash",
                "NINJA": "$penv{NINJA}",
                "TOOLCHAIN_PREFIX": "$env{ARCHITECTURE}",
                "TOOLCHAIN_VERSION": "v2.1.0",
                "TOOLCHAIN_ROOT": "${sourceDir}/multi_build/compilers/$env{PLATFORM}-$env{ARCHITECTURE}/$env{TOOLCHAIN_VERSION}",
                "TOOLCHAIN_SYSROOT": "$env{TOOLCHAIN_ROOT}/$env{TOOLCHAIN_PREFIX}/sysroot",
                "VCPKG_INSTALL_DIR": "${sourceDir}/multi_build/${presetName}/vcpkg_installed/$env{PLATFORM}-$env{ARCHITECTURE}"
            }
        },
        {
            "name": "vcpkg-base-android",
            "inherits": ["vcpkg-base"],
            "hidden": true,
            "generator": "Ninja",
            "cacheVariables": {
                "ANDROID_NDK": "$env{ANDROID_NDK}",
                "ANDROID_NDK_HOME": "$env{ANDROID_NDK}",
                "ANDROID_SDK": "$env{ANDROID_SDK}",
                "ANDROID_PLATFORM": "android-$env{API}",
                "BUILD_ANATIVE": "ON",
                "BUILD_EGL": "ON",
                "BUILD_GLES": "ON",
                "BUILD_GLES_31": "ON",
                "BUILD_GLES_32": "ON",
                "BUILD_GL_SOFTWARE_BCN": "ON",
                "BUILD_GL_SOFTWARE_PVRTC": "ON",
                "BUILD_MEDIA": "OFF",
                "BUILD_SDL2": "OFF",
                "CMAKE_MAKE_PROGRAM": "$env{NINJA}",
                "VCPKG_CHAINLOAD_TOOLCHAIN_FILE": "${sourceDir}/toolchain/vcpkg/toolchains/android.cmake",

                "VCPKG_CMAKE_SYSTEM_VERSION": "$env{API}",
                "VCPKG_CRT_LINKAGE": "static",
                "VCPKG_DEP_INFO_OVERRIDE_VARS": "android;arm;arm64",
                "VCPKG_LIBRARY_LINKAGE": "static",
                "VCPKG_TARGET_TRIPLET": "$env{ARCHITECTURE}-android"
            },
            "environment": {
                "ANDROID_NDK": "$env{ANDROID_SDK}/ndk/$env{NDK_VERSION}",
                "ANDROID_NDK_HOME": "$env{ANDROID_SDK}/ndk/$env{NDK_VERSION}",
                "ANDROID_SDK": "${sourceDir}/multi_build/compilers/android/latest",
                "API": "32",
                "ARCHITECTURE": "arm64",
                "NDK_VERSION_": "26.0.10792818",
                "NDK_VERSION": "25.2.9519653",
                "NINJA": "$penv{NINJA}"
            }
        },
        {
            "name": "vcpkg-base-wiicube",
            "inherits": ["vcpkg-base"],
            "hidden": true,
            "generator": "Ninja",
            "cacheVariables": {
                "BUILD_ASIO": "OFF",
                "BUILD_AUDIO": "OFF",
                "BUILD_BLAM": "ON",
                "BUILD_COMPRESS_ZLIB": "OFF",
                "BUILD_GLEAM": "OFF",
                "BUILD_GRAPHICS_COMMON": "OFF",
                "BUILD_GX": "ON",
                "BUILD_IMGUI": "OFF",
                "BUILD_LIBOGC": "ON",
                "BUILD_OPENGL": "OFF",
                "BUILD_SDL2": "OFF",
                "CMAKE_C_COMPILER": "$env{TOOLCHAIN_ROOT}/bin/$env{ARCHITECTURE}-gcc",
                "CMAKE_CXX_COMPILER": "$env{TOOLCHAIN_ROOT}/bin/$env{ARCHITECTURE}-g++",
                "CMAKE_MAKE_PROGRAM": "$env{NINJA}",
                "CMAKE_SYSTEM_NAME": "Baremetal",
                "VCPKG_CHAINLOAD_TOOLCHAIN_FILE": "${sourceDir}/toolchain/cmake/Toolchains/$env{TOOLCHAIN_PREFIX}-$env{VARIANT}.toolchain.cmake",
                "VCPKG_MANIFEST_NO_DEFAULT_FEATURES": "ON",
                "VCPKG_OVERLAY_PORTS": "${sourceDir}/toolchain/vcpkg/ports-gamecube/outcome;${sourceDir}/toolchain/vcpkg/ports-gamecube/status-code;${sourceDir}/toolchain/vcpkg/ports-gamecube/zstd",
                "VCPKG_TARGET_TRIPLET": "$env{ARCHITECTURE}-$env{VARIANT}"
            },
            "environment": {
                "ARCHITECTURE": "powerpc-eabi",
                "PLATFORM": "console",
                "TOOLCHAIN_PREFIX": "$env{ARCHITECTURE}",
                "TOOLCHAIN_ROOT": "${sourceDir}/multi_build/compilers/$env{PLATFORM}-$env{ARCHITECTURE}/$env{TOOLCHAIN_VERSION}",
                "TOOLCHAIN_SYSROOT": "$env{TOOLCHAIN_ROOT}/$env{TOOLCHAIN_PREFIX}/sysroot",
                "TOOLCHAIN_VERSION": "v2.1.0"
            }
        },
        {
            "name": "vcpkg-base-emscripten",
            "inherits": ["vcpkg-base"],
            "hidden": true,
            "generator": "Ninja",
            "cacheVariables": {
                "BUILD_ASIO": "OFF",
                "BUILD_EMSCRIPTEN": "ON",
                "BUILD_GLES": "ON",
                "CMAKE_MAKE_PROGRAM": "$env{NINJA}",
                "VCPKG_CHAINLOAD_TOOLCHAIN_FILE": "$env{EMSDK}/upstream/emscripten/cmake/Modules/Platform/Emscripten.cmake",
                "VCPKG_TARGET_TRIPLET": "wasm32-emscripten"
            },
            "environment": {
                "EMSDK": "${sourceDir}/multi_build/compilers/emsdk/",
                "NINJA": "$penv{NINJA}"
            }
        },
        {
            "name": "vcpkg-base-linux-es20",
            "inherits": ["vcpkg-base-linux"],
            "hidden": true,
            "cacheVariables": {
                "BUILD_EGL": "ON",
                "BUILD_EGL_DOUBLE_GETPROC": "ON",
                "BUILD_GL_SOFTWARE_BCN": "ON",
                "BUILD_GLES": "ON",
                "BUILD_GLES_20": "ON",
                "BUILD_MEDIA": "OFF"
            },
            "environment": {
                "ARCHITECTURE": "arm-buildroot-linux-gnueabihf"
            }
        },
        {
            "name": "vcpkg-base-linux-egl-es20",
            "inherits": ["vcpkg-base-linux-es20"],
            "hidden": true,
            "cacheVariables": {
                "BUILD_EGL": "ON",
                "BUILD_EGL_DOUBLE_GETPROC": "ON",
                "BUILD_SDL2": "OFF"
            }
        },
        {
            "name": "host-tools",
            "inherits": ["vcpkg-base"],
            "hidden": true,
            "binaryDir": "${sourceDir}/multi_build/${presetName}",
            "cacheVariables": {
                "BUILD_ASIO": "OFF",
                "BUILD_ASSET_TOOLS": "ON",
                "BUILD_BLAM": "OFF",
                "BUILD_COMPONENT_APP": "OFF",
                "BUILD_EXAMPLES": "OFF",
                "BUILD_HEADFUL": "OFF",
                "BUILD_IMGUI": "OFF",
                "BUILD_MEDIA": "OFF",
                "BUILD_SDL2": "OFF",
                "BUILD_TESTS": "OFF",
                "BUILD_WITH_WERROR": "OFF",
                "VCPKG_MANIFEST_FEATURES": "network;pressure-cooker",
                "VCPKG_MANIFEST_NO_DEFAULT_FEATURES": "ON"
            }
        },
        {
            "name": "android-arm64-32",
            "displayName": "Android 12 ARM64",
            "inherits": ["vcpkg-base-android"]
        },
        {
            "name": "android-arm64-30-gl",
            "displayName": "Android 11 ARM64 Core OpenGL",
            "inherits": ["vcpkg-base-android"],
            "cacheVariables": {
                "BUILD_GLES": "OFF",
                "BUILD_GLAD_GETPROC": "ON",
                "BUILD_GL_SOFTWARE_BCN": "OFF"
            },
            "environment": {
                "API": "30"
            }
        },
        {
            "name": "android-arm-neon-29",
            "displayName": "Android 10 ARMv7+NEON",
            "inherits": ["vcpkg-base-android"],
            "cacheVariables": {
                "VCPKG_DEP_INFO_OVERRIDE_VARS": "android;arm;arm32;arm_neon"
            },
            "environment": {
                "API": "29",
                "ARCHITECTURE": "arm-neon"
            }
        },
        {
            "name": "android-arm64-25",
            "displayName": "Android 7 ARM64",
            "inherits": ["vcpkg-base-android"],
            "environment": {
                "API": "25"
            }
        },
        {
            "name": "android-arm-neon-19",
            "displayName": "Android 4.4 ARMv7+NEON",
            "inherits": ["vcpkg-base-android"],
            "cacheVariables": {
                "BUILD_GLES_31": "OFF",
                "BUILD_GLES_32": "OFF",
                "VCPKG_DEP_INFO_OVERRIDE_VARS": "android;arm;arm32;arm_neon"
            },
            "environment": {
                "API": "19",
                "ARCHITECTURE": "arm-neon",
                "NDK_VERSION": "25.2.9519653"
            }
        },
        {
            "name": "beaglebone-arm-buildroot-linux-gnueabihf-ti-sgx",
            "displayName": "Beaglebone ARMv7 TI-SGX OpenGL ES 2.0 (NullWS)",
            "inherits": ["vcpkg-base-linux-egl-es20"],
            "cacheVariables": {
                "VCPKG_DEP_INFO_OVERRIDE_VARS": "beaglebone;sgx;arm;arm32;linux"
            },
            "environment": {
                "PLATFORM": "beaglebone"
            }
        },
        {
            "name": "console-powerpc-eabi-cube",
            "displayName": "Gamecube",
            "inherits": ["vcpkg-base-wiicube"],
            "cacheVariables": {
                "VCPKG_DEP_INFO_OVERRIDE_VARS": "bare;powerpc;gamecube;cube"
            },
            "environment": {
                "VARIANT": "cube"
            }
        },
        {
            "name": "console-powerpc-eabi-wii",
            "displayName": "Wii",
            "inherits": ["vcpkg-base-wiicube"],
            "cacheVariables": {
                "VCPKG_DEP_INFO_OVERRIDE_VARS": "bare;powerpc;wii"
            },
            "environment": {
                "VARIANT": "wii"
            }
        },
        {
            "name": "desktop-x86_64-buildroot-linux-gnu-multi",
            "displayName": "Linux x86_64 Core OpenGL (SDL2)",
            "inherits": ["vcpkg-base-linux"],
            "cacheVariables": {
                "BUILD_DISCORD_RPC": "ON",
                "BUILD_GL_SOFTWARE_BCN": "ON",
                "GENERATE_APPIMAGE": "ON",
                "VCPKG_DEP_INFO_OVERRIDE_VARS": "desktop;linux;wayland;x11;x64;x86_64"
            },
            "environment": {
                "ARCHITECTURE": "x86_64-buildroot-linux-gnu",
                "PLATFORM": "desktop"
            }
        },
        {
            "name": "desktop-aarch64-buildroot-linux-gnu-multi",
            "displayName": "Linux aarch64 OpenGL ES 3.x (SDL2)",
            "inherits": ["vcpkg-base-linux"],
            "cacheVariables": {
                "BUILD_GL_SOFTWARE_BCN": "ON",
                "BUILD_GLES": "ON",
                "BUILD_GLES_31": "ON",
                "BUILD_GLES_32": "ON",
                "GENERATE_APPIMAGE": "ON",
                "VCPKG_DEP_INFO_OVERRIDE_VARS": "desktop;linux;wayland;x11;arm64;aarch64"
            },
            "environment": {
                "ARCHITECTURE": "aarch64-buildroot-linux-gnu",
                "PLATFORM": "desktop"
            }
        },
        {
            "name": "desktop-x86_64-windows-gnu-win32",
            "displayName": "Windows x86_64 (SDL2/Win32)",
            "inherits": ["vcpkg-base"],
            "generator": "Ninja",
            "cacheVariables": {
                "CMAKE_BUILD_WITH_INSTALL_RPATH": "ON",
                "CMAKE_C_COMPILER": "$env{TOOLCHAIN_PREFIX}-gcc-posix",
                "CMAKE_CXX_COMPILER": "$env{TOOLCHAIN_PREFIX}-g++-posix",
                "CMAKE_C_FLAGS": "-D__MINGW64__ -D_WIN32_WINNT=0x0602",
                "CMAKE_CXX_FLAGS": "-D__MINGW64__ -D_WIN32_WINNT=0x0602",
                "CMAKE_MAKE_PROGRAM": "$env{NINJA}",
                "CMAKE_SYSTEM_NAME": "Windows",
                "MINGW": "1",
                "MINGW64": "1",
                "VCPKG_MANIFEST_NO_DEFAULT_FEATURES": "ON",
                "VCPKG_MANIFEST_FEATURES": "blam;gleam;headful;network;openssl",
                "VCPKG_TARGET_TRIPLET": "x64-mingw-static"
            },
            "environment": {
                "TOOLCHAIN_PREFIX": "x86_64-w64-mingw32",
                "NINJA": "$penv{NINJA}"
            }
        },
        {
            "name": "desktop-arm-buildroot-linux-gnueabihf-sdl2",
            "displayName": "Linux ARMv7 OpenGL ES 2.0 (SDL2)",
            "inherits": ["vcpkg-base-linux-es20"],
            "cacheVariables": {
                "BUILD_EGL": "OFF",
                "VCPKG_DEP_INFO_OVERRIDE_VARS": "arm;arm32;linux;wayland;x11"
            },
            "environment": {
                "ARCHITECTURE": "arm-buildroot-linux-gnueabihf",
                "PLATFORM": "desktop"
            }
        },
        {
            "name": "raspberry-arm-buildroot-linux-gnueabihf-vc",
            "displayName": "Raspberry Pi ARMv7 OpenGL ES 2.0 (DispManX)",
            "inherits": ["vcpkg-base-linux-egl-es20"],
            "cacheVariables": {
                "BUILD_DISPMANX": "ON",
                "VCPKG_DEP_INFO_OVERRIDE_VARS": "arm;arm32;linux;raspberry;videocore"
            },
            "environment": {
                "PLATFORM": "raspberry"
            }
        },
        {
            "name": "web-wasm32-emscripten-node",
            "displayName": "Wasm32 for Node",
            "inherits": ["vcpkg-base-emscripten"],
            "cacheVariables": {
                "VCPKG_DEP_INFO_OVERRIDE_VARS": "emscripten;wasm"
            }
        },
        {
            "name": "web-wasm32-emscripten-webgl2",
            "displayName": "Wasm32 for Web + WebGL2 (SDL2)",
            "inherits": ["vcpkg-base-emscripten"],
            "cacheVariables": {
                "VCPKG_DEP_INFO_OVERRIDE_VARS": "emscripten;wasm"
            }
        },
        {
            "name": "host-x64-linux-native",
            "displayName": "Host tools for Linux x86_64",
            "inherits": ["host-tools"],
            "generator": "Ninja",
            "cacheVariables": {
                "CMAKE_C_FLAGS": "-march=native",
                "CMAKE_CXX_FLAGS": "-march=native"
            },
            "environment": {
                "NINJA": "$penv{NINJA}"
            }
        }
    ],
    "buildPresets": [
        {
            "name": "base-linux",
            "hidden": true,
            "inheritConfigureEnvironment": true,
            "condition": {
                "type": "equals",
                "lhs": "${hostSystemName}",
                "rhs": "Linux"
            }
        },
        {
            "name": "android-arm64-30-gl-rel",
            "configuration": "Release",
            "configurePreset": "android-arm64-30-gl",
            "inherits": "base-linux"
        },
        {
            "name": "android-arm64-30-gl-dbg",
            "configuration": "Debug",
            "configurePreset": "android-arm64-30-gl",
            "inherits": "base-linux"
        },
        {
            "name": "android-arm64-32-rel",
            "configuration": "Release",
            "configurePreset": "android-arm64-32",
            "inherits": "base-linux"
        },
        {
            "name": "android-arm64-32-dbg",
            "configuration": "Debug",
            "configurePreset": "android-arm64-32",
            "inherits": "base-linux"
        },
        {
            "name": "beaglebone-arm-buildroot-linux-gnueabihf-ti-sgx-rel",
            "configuration": "Release",
            "configurePreset": "beaglebone-arm-buildroot-linux-gnueabihf-ti-sgx",
            "inherits": "base-linux"
        },
        {
            "name": "beaglebone-arm-buildroot-linux-gnueabihf-ti-sgx-dbg",
            "configuration": "Debug",
            "configurePreset": "beaglebone-arm-buildroot-linux-gnueabihf-ti-sgx",
            "inherits": "base-linux"
        },
        {
            "name": "console-powerpc-eabi-cube-dbg",
            "configuration": "Debug",
            "configurePreset": "console-powerpc-eabi-cube",
            "inherits": "base-linux"
        },
        {
            "name": "desktop-aarch64-buildroot-linux-gnu-multi-rel",
            "configuration": "Release",
            "configurePreset": "desktop-aarch64-buildroot-linux-gnu-multi",
            "inherits": "base-linux"
        },
        {
            "name": "desktop-aarch64-buildroot-linux-gnu-multi-dbg",
            "configuration": "Debug",
            "configurePreset": "desktop-aarch64-buildroot-linux-gnu-multi",
            "inherits": "base-linux"
        },
        {
            "name": "desktop-x86_64-buildroot-linux-gnu-multi-rel",
            "configuration": "Release",
            "configurePreset": "desktop-x86_64-buildroot-linux-gnu-multi",
            "inherits": "base-linux"
        },
        {
            "name": "desktop-x86_64-buildroot-linux-gnu-multi-dbg",
            "configuration": "Debug",
            "configurePreset": "desktop-x86_64-buildroot-linux-gnu-multi",
            "inherits": "base-linux"
        },
        {
            "name": "desktop-x86_64-windows-gnu-win32-rel",
            "configuration": "Release",
            "configurePreset": "desktop-x86_64-windows-gnu-win32",
            "inherits": "base-linux"
        },
        {
            "name": "desktop-x86_64-windows-gnu-win32-dbg",
            "configuration": "Debug",
            "configurePreset": "desktop-x86_64-windows-gnu-win32",
            "inherits": "base-linux"
        },
        {
            "name": "desktop-arm-buildroot-linux-gnueabihf-sdl2-rel",
            "configuration": "Release",
            "configurePreset": "desktop-arm-buildroot-linux-gnueabihf-sdl2",
            "inherits": "base-linux"
        },
        {
            "name": "desktop-arm-buildroot-linux-gnueabihf-sdl2-dbg",
            "configuration": "Debug",
            "configurePreset": "desktop-arm-buildroot-linux-gnueabihf-sdl2",
            "inherits": "base-linux"
        },
        {
            "name": "host-x64-linux-native-rel",
            "configuration": "Release",
            "configurePreset": "host-x64-linux-native",
            "inherits": "base-linux"
        },
        {
            "name": "web-wasm32-emscripten-webgl2-rel",
            "configuration": "Release",
            "configurePreset": "web-wasm32-emscripten-webgl2",
            "inherits": "base-linux"
        },
        {
            "name": "web-wasm32-emscripten-webgl2-dbg",
            "configuration": "Debug",
            "configurePreset": "web-wasm32-emscripten-webgl2",
            "inherits": "base-linux"
        }
    ]
}
